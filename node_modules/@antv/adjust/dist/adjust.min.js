!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.adjust=n():t.adjust=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=10)}([function(t,n,r){var e=r(12),i=r(1);t.exports=function(t,n){if(t)if(i(t))for(var r=0,o=t.length;r<o&&!1!==n(t[r],r);r++);else if(e(t))for(var u in t)if(t.hasOwnProperty(u)&&!1===n(t[u],u))break}},function(t,n,r){var e=r(5),i=Array.isArray?Array.isArray:function(t){return e(t,"Array")};t.exports=i},function(t,n,r){var e=r(3),i=function(){function t(t){this._initDefaultCfg(),e(this,t)}var n=t.prototype;return n._initDefaultCfg=function(){this.adjustNames=["x","y"]},n.processAdjust=function(){},t}();t.exports=i},function(t,n){function r(t,n){for(var r in n)n.hasOwnProperty(r)&&"constructor"!==r&&void 0!==n[r]&&(t[r]=n[r])}t.exports=function(t,n,e,i){return n&&r(t,n),e&&r(t,e),i&&r(t,i),t}},function(t,n){t.exports=function(t){for(var n=[],r=0;r<t.length;r++)n=n.concat(t[r]);return n}},function(t,n){var r={}.toString;t.exports=function(t,n){return r.call(t)==="[object "+n+"]"}},function(t,n){t.exports=function(t){return null===t||void 0===t}},function(t,n,r){var e=r(0),i={values:r(8)};t.exports={isAdjust:function(t){return this.adjustNames.indexOf(t)>=0},_getDimValues:function(t){var n={},r=[];if(this.xField&&this.isAdjust("x")&&r.push(this.xField),this.yField&&this.isAdjust("y")&&r.push(this.yField),e(r,function(r){var e=i.values(t,r);e.sort(function(t,n){return t-n}),n[r]=e}),!this.yField&&this.isAdjust("y")){var o=[0,1];n.y=o}return n},adjustData:function(t,n){var r=this,i=r._getDimValues(n);e(t,function(n,o){e(i,function(e,i){r.adjustDim(i,e,n,t.length,o)})})},getAdjustRange:function(t,n,r){var e,i,o=r.indexOf(n),u=r.length;return!this.yField&&this.isAdjust("y")?(e=0,i=1):u>1?(e=0===o?r[0]:r[o-1],i=o===u-1?r[u-1]:r[o+1],0!==o?e+=(n-e)/2:e-=(i-n)/2,o!==u-1?i-=(i-n)/2:i+=(n-r[u-2])/2):(e=0===n?0:n-.5,i=0===n?1:n+.5),{pre:e,next:i}},groupData:function(t,n){var r={};return e(t,function(t){var e=t[n];void 0===e&&(e=t[n]=0),r[e]||(r[e]=[]),r[e].push(t)}),r}}},function(t,n,r){var e=r(6),i=r(1),o=r(0);t.exports=function(t,n){for(var r=[],u={},s=0;s<t.length;s++){var a=t[s][n];e(a)||(i(a)||(a=[a]),o(a,function(t){u[t]||(r.push(t),u[t]=!0)}))}return r}},function(t,n,r){var e=r(5);t.exports=function(t){return e(t,"Function")}},function(t,n,r){var e=r(3),i=r(2),o=r(11),u=r(13),s=r(7),a=r(14),f=r(18);e(i.prototype,s),e(o.prototype,s,a),e(u.prototype,f),i.Jitter=r(19),i.Symmetric=r(20),i.Dodge=o,i.Stack=u,t.exports=i},function(t,n,r){var e=r(2),i=r(0),o=function(t){function n(){return t.apply(this,arguments)||this}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var r=n.prototype;return r._initDefaultCfg=function(){this.marginRatio=.5,this.dodgeRatio=.5,this.adjustNames=["x","y"]},r.getDodgeOffset=function(t,n,r){var e=t.pre,i=t.next,o=i-e,u=o*this.dodgeRatio/r,s=this.marginRatio*u;return(e+i)/2+(.5*(o-r*u-(r-1)*s)+((n+1)*u+n*s)-.5*u-.5*o)},r.processAdjust=function(t){var n=this,r=t.length,e=n.xField;i(t,function(t,i){for(var o=0,u=t.length;o<u;o++){var s=t[o],a=s[e],f={pre:1===u?a-1:a-.5,next:1===u?a+1:a+.5},c=n.getDodgeOffset(f,i,r);s[e]=c}})},n}(e);e.Dodge=o,t.exports=o},function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var n=void 0===t?"undefined":r(t);return null!==t&&"object"===n||"function"===n}},function(t,n,r){var e=r(1),i=r(6),o=r(2),u=function(t){function n(){return t.apply(this,arguments)||this}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var r=n.prototype;return r._initDefaultCfg=function(){this.xField=null,this.yField=null},r.processAdjust=function(t){this.processStack(t)},r.processStack=function(t){var n=this.xField,r=this.yField,o=t.length,u={positive:{},negative:{}};this.reverseOrder&&(t=t.slice(0).reverse());for(var s=0;s<o;s++)for(var a=t[s],f=0,c=a.length;f<c;f++){var p=a[f],l=p[n]||0,h=p[r],d=l.toString();if(h=e(h)?h[1]:h,!i(h)){var v=h>=0?"positive":"negative";u[v][d]||(u[v][d]=0),p[r]=[u[v][d],h+u[v][d]],u[v][d]+=h}}},n}(o);o.Stack=u,t.exports=u},function(t,n,r){var e={merge:r(4),values:r(8)},i=r(15),o=r(0);t.exports={processAdjust:function(t){var n=e.merge(t),r=this.dodgeBy,o=t;r&&(o=i(n,r)),this.cacheMap={},this.adjDataArray=o,this.mergeData=n,this.adjustData(o,n),this.adjDataArray=null,this.mergeData=null},getDistribution:function(t){var n=this.adjDataArray,r=this.cacheMap,i=r[t];return i||(i={},o(n,function(n,r){var u=e.values(n,t);u.length||u.push(0),o(u,function(t){i[t]||(i[t]=[]),i[t].push(r)})}),r[t]=i),i},adjustDim:function(t,n,r,e,i){var u=this,s=u.getDistribution(t),a=u.groupData(r,t);o(a,function(r,e){e=parseFloat(e);var a;a=1===n.length?{pre:n[0]-1,next:n[0]+1}:u.getAdjustRange(t,e,n),o(r,function(n){var r=n[t],e=s[r],o=e.indexOf(i);n[t]=u.getDodgeOffset(a,o,e.length)})})}}},function(t,n,r){var e=r(16);t.exports=function(t,n){if(!n)return[t];var r=e(t,n),i=[];for(var o in r)i.push(r[o]);return i}},function(t,n,r){var e=r(9),i=r(1),o=r(17);t.exports=function(t,n){if(!n)return{0:t};if(!e(n)){var r=i(n)?n:n.replace(/\s+/g,"").split("*");n=function(t){for(var n="_",e=0,i=r.length;e<i;e++)n+=t[r[e]]&&t[r[e]].toString();return n}}return o(t,n)}},function(t,n,r){var e=r(0),i=r(1),o=Object.prototype.hasOwnProperty;t.exports=function(t,n){if(!n||!i(t))return t;var r={},u=null;return e(t,function(t){u=n(t),o.call(r,u)?r[u].push(t):r[u]=[t]}),r}},function(t,n){t.exports={_initDefaultCfg:function(){this.xField=null,this.yField=null,this.height=null,this.size=10,this.reverseOrder=!1,this.adjustNames=["y"]},processOneDimStack:function(t){var n=this.xField,r=this.yField||"y",e=this.height,i={};this.reverseOrder&&(t=t.slice(0).reverse());for(var o=0,u=t.length;o<u;o++)for(var s=t[o],a=0,f=s.length;a<f;a++){var c=s[a],p=2*(c.size||this.size)/e,l=c[n];i[l]||(i[l]=p/2),c[r]=i[l],i[l]+=p}},processAdjust:function(t){this.yField?this.processStack(t):this.processOneDimStack(t)}}},function(t,n,r){var e=r(0),i=r(3),o={merge:r(4)},u=r(2),s=r(7),a=function(t){function n(){return t.apply(this,arguments)||this}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var r=n.prototype;return r._initDefaultCfg=function(){this.xField=null,this.yField=null,this.adjustNames=["x","y"],this.groupFields=null},r.processAdjust=function(t){var n=o.merge(t);this.adjDataArray=t,this.mergeData=n,this.adjustData(t,n),this.adjFrames=null,this.mergeData=null},r.getAdjustOffset=function(t,n){var r=n-t;return t+.05*r+.9*r*Math.random()},r._adjustGroup=function(t,n,r,i){var o=this,u=o.getAdjustRange(n,r,i);e(t,function(t){t[n]=o.getAdjustOffset(u.pre,u.next)})},r.adjustDim=function(t,n,r){var i=this,o=i.groupData(r,t);e(o,function(r,e){e=parseFloat(e),i._adjustGroup(r,t,e,n)})},n}(u);i(a.prototype,s),u.Jitter=a,t.exports=a},function(t,n,r){var e=r(0),i=r(21),o=r(1),u={merge:r(4)},s=r(2),a=function(t){function n(){return t.apply(this,arguments)||this}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);var r=n.prototype;return r._initDefaultCfg=function(){this.xField=null,this.yField=null,this.cacheMax=null,this.adjustNames=["y"],this.groupFields=null},r._getMax=function(t){var n=this.mergeData,r=i(n,function(n){var r=n[t];return o(r)?Math.max.apply(null,r):r})[t];return o(r)?Math.max.apply(null,r):r},r._getXValuesMax=function(){var t=this.yField,n=this.xField,r={},i=this.mergeData;return e(i,function(e){var i=e[n],u=e[t],s=o(u)?Math.max.apply(null,u):u;r[i]=r[i]||0,r[i]<s&&(r[i]=s)}),r},r.processAdjust=function(t){var n=u.merge(t);this.mergeData=n,this._processSymmetric(t),this.mergeData=null},r._processSymmetric=function(t){var n,r=this.xField,i=this.yField,u=this._getMax(i),s=t[0][0];s&&o(s[i])&&(n=this._getXValuesMax()),e(t,function(t){e(t,function(t){var s,a=t[i];if(o(a)){var f=t[r],c=n[f];s=(u-c)/2;var p=[];e(a,function(t){p.push(s+t)}),t[i]=p}else s=(u-a)/2,t[i]=[s,a+s]})})},n}(s);s.Symmetric=a,t.exports=a},function(t,n,r){var e=r(1),i=r(9),o=r(0);t.exports=function(t,n){if(e(t)){var r=t[0],u=void 0;u=i(n)?n(t[0]):t[0][n];var s=void 0;return o(t,function(t){(s=i(n)?n(t):t[n])>u&&(r=t,u=s)}),r}}}])});