!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.attr=n():t.attr=n()}("undefined"!=typeof self?self:this,function(){return function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=7)}([function(t,n,r){function e(t,n){return o(n)?n:t.invert(t.scale(n))}var o=r(4),i=r(1),u=r(5),a=r(10),c=r(3),s=function(){function t(t){var n=this;this.type="base",this.name=null,this.method=null,this.values=[],this.scales=[],this.linear=null;var r=null,e=this.callback;if(t.callback){var o=t.callback;r=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=o.apply(void 0,r);return u(a)&&(a=e.apply(n,r)),a}}a(this,t),r&&a(this,{callback:r})}var n=t.prototype;return n._getAttrValue=function(t,n){var r=this.values;if(t.isCategory&&!this.linear){return r[t.translate(n)%r.length]}var e=t.scale(n);return this.getLinearValue(e)},n.getLinearValue=function(t){var n=this.values,r=n.length-1,e=Math.floor(r*t),o=r*t-e,i=n[e];return i+((e===r?i:n[e+1])-i)*o},n.callback=function(t){var n=this.scales[0];return"identity"===n.type?n.value:this._getAttrValue(n,t)},n.getNames=function(){for(var t=this.scales,n=this.names,r=Math.min(t.length,n.length),e=[],o=0;o<r;o++)e.push(n[o]);return e},n.getFields=function(){var t=this.scales,n=[];return c(t,function(t){n.push(t.field)}),n},n.getScale=function(t){return this.scales[this.names.indexOf(t)]},n.mapping=function(){for(var t=this.scales,n=this.callback,r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];var i=e;if(n){for(var u=0,a=e.length;u<a;u++)e[u]=this._toOriginParam(e[u],t[u]);i=n.apply(this,e)}return i=[].concat(i)},n._toOriginParam=function(t,n){var r=t;if(!n.isLinear)if(i(t)){r=[];for(var o=0,u=t.length;o<u;o++)r.push(e(n,t[o]))}else r=e(n,t);return r},t}();t.exports=s},function(t,n,r){var e=r(2),o=Array.isArray?Array.isArray:function(t){return e(t,"Array")};t.exports=o},function(t,n){var r={}.toString;t.exports=function(t,n){return r.call(t)==="[object "+n+"]"}},function(t,n,r){var e=r(9),o=r(1);t.exports=function(t,n){if(t)if(o(t))for(var r=0,i=t.length;r<i&&!1!==n(t[r],r);r++);else if(e(t))for(var u in t)if(t.hasOwnProperty(u)&&!1===n(t[u],u))break}},function(t,n,r){var e=r(2);t.exports=function(t){return e(t,"String")}},function(t,n){t.exports=function(t){return null===t||void 0===t}},function(t,n,r){function e(t,n,r,e){return t[e]+(n[e]-t[e])*r}function o(t){return"#"+i(t[0])+i(t[1])+i(t[2])}function i(t){return t=Math.round(t),1===(t=t.toString(16)).length&&(t="0"+t),t}function u(t){var n=[];return n.push(parseInt(t.substr(1,2),16)),n.push(parseInt(t.substr(3,2),16)),n.push(parseInt(t.substr(5,2),16)),n}var a=r(12),c=r(4),s=r(3),l=/rgba?\(([\s.,0-9]+)\)/,f={},p=null,h={toRGB:function(t){if("#"===t[0]&&7===t.length)return t;p||(p=function(){var t=document.createElement("i");return t.title="Web Colour Picker",t.style.display="none",document.body.appendChild(t),t}());var n;if(f[t])n=f[t];else{p.style.color=t,n=document.defaultView.getComputedStyle(p,"").getPropertyValue("color");n=o(l.exec(n)[1].split(/\s*,\s*/)),f[t]=n}return n},rgb2arr:u,gradient:function(t){var n=[];return c(t)&&(t=t.split("-")),s(t,function(t){-1===t.indexOf("#")&&(t=h.toRGB(t)),n.push(u(t))}),function(t){return function(t,n){(isNaN(n)||!a(n)||n<0)&&(n=0),n>1&&(n=1);var r=t.length-1,i=Math.floor(r*n),u=r*n-i,c=t[i],s=i===r?c:t[i+1];return o([e(c,s,u,0),e(c,s,u,1),e(c,s,u,2)])}(n,t)}}};t.exports=h},function(t,n,r){t.exports={Position:r(8),Color:r(11),Shape:r(13),Size:r(14),Opacity:r(15),ColorUtil:r(6)}},function(t,n,r){var e=r(5),o=r(1),i=r(3),u=function(t){function n(n){var r;return r=t.call(this,n)||this,r.names=["x","y"],r.type="position",r}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);return n.prototype.mapping=function(t,n){var r,u,a,c=this.scales,s=this.coord,l=c[0],f=c[1];if(e(t)||e(n))return[];if(o(n)&&o(t)){r=[],u=[];for(var p=0,h=0,y=t.length,v=n.length;p<y&&h<v;p++,h++)a=s.convertPoint({x:l.scale(t[p]),y:f.scale(n[h])}),r.push(a.x),u.push(a.y)}else if(o(n))t=l.scale(t),u=[],i(n,function(n){n=f.scale(n),a=s.convertPoint({x:t,y:n}),r&&r!==a.x?(o(r)||(r=[r]),r.push(a.x)):r=a.x,u.push(a.y)});else if(o(t))n=f.scale(n),r=[],i(t,function(t){t=l.scale(t),a=s.convertPoint({x:t,y:n}),u&&u!==a.y?(o(u)||(u=[u]),u.push(a.y)):u=a.y,r.push(a.x)});else{t=l.scale(t),n=f.scale(n);var g=s.convertPoint({x:t,y:n});r=g.x,u=g.y}return[r,u]},n}(r(0));t.exports=u},function(t,n){var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t){var n=void 0===t?"undefined":r(t);return null!==t&&"object"===n||"function"===n}},function(t,n){function r(t,n){for(var r in n)n.hasOwnProperty(r)&&"constructor"!==r&&void 0!==n[r]&&(t[r]=n[r])}t.exports=function(t,n,e,o){return n&&r(t,n),e&&r(t,e),o&&r(t,o),t}},function(t,n,r){var e=r(4),o=r(6),i=function(t){function n(n){var r;return r=t.call(this,n)||this,r.names=["color"],r.type="color",r.gradient=null,e(r.values)&&(r.linear=!0),r}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);return n.prototype.getLinearValue=function(t){var n=this.gradient;if(!n){var r=this.values;n=o.gradient(r),this.gradient=n}return n(t)},n}(r(0));t.exports=i},function(t,n,r){var e=r(2);t.exports=function(t){return e(t,"Number")}},function(t,n,r){var e=function(t){function n(n){var r;return r=t.call(this,n)||this,r.names=["shape"],r.type="shape",r.gradient=null,r}!function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t);return n.prototype.getLinearValue=function(t){var n=this.values;return n[Math.round((n.length-1)*t)]},n}(r(0));t.exports=e},function(t,n,r){var e=function(t){function n(n){var r;return r=t.call(this,n)||this,r.names=["size"],r.type="size",r.gradient=null,r}return function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t),n}(r(0));t.exports=e},function(t,n,r){var e=function(t){function n(n){var r;return r=t.call(this,n)||this,r.names=["opacity"],r.type="opacity",r.gradient=null,r}return function(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n}(n,t),n}(r(0));t.exports=e}])});